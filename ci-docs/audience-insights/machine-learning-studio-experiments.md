---
title: Eksperimenti Machine Learning Studio (klasični)
description: Koristite modele Machine Learning Studio (klasični) u sustavu Dynamics 365 Customer Insights.
ms.date: 12/03/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
ms.reviewer: ameetj
manager: shellyha
ms.openlocfilehash: 556b6810db0ed2733a3f086291757bd85b77e371
ms.sourcegitcommit: a9b2cf598f256d07a48bba8617347ee90024a1dd
ms.translationtype: HT
ms.contentlocale: hr-HR
ms.lasthandoff: 12/03/2020
ms.locfileid: "4669009"
---
# <a name="use-models-based-on-azure-machine-learning-studio-classic"></a><span data-ttu-id="14f76-103">Korištenje modela na temelju Azure Machine Learning Studio (klasični)</span><span class="sxs-lookup"><span data-stu-id="14f76-103">Use models based on Azure Machine Learning Studio (classic)</span></span>

<span data-ttu-id="14f76-104">Objedinjeni podaci u sustavu Dynamics 365 Customer Insights izvor su za izgradnju modela strojnog učenja koji mogu stvoriti dodatne poslovne uvide.</span><span class="sxs-lookup"><span data-stu-id="14f76-104">The unified data in Dynamics 365 Customer Insights is a source for building machine learning models that can generate additional business insights.</span></span> <span data-ttu-id="14f76-105">Customer Insights integrira se s Machine Learning Studio (klasični) kako bi koristio vlastite prilagođene modele.</span><span class="sxs-lookup"><span data-stu-id="14f76-105">Customer Insights integrates with Machine Learning Studio (classic) to use your own custom models.</span></span> <span data-ttu-id="14f76-106">Da biste vidjeli kako su modeli razvijeni u Azure Machine Learning integrirani s Customer Insights, pogledajte [Eksperimenti Azure Machine Learning i](azure-machine-learning-experiments.md).</span><span class="sxs-lookup"><span data-stu-id="14f76-106">To see how models developed in Azure Machine Learning are integrated with Customer Insights, see [Azure Machine Learning experiments](azure-machine-learning-experiments.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="14f76-107">Preduvjeti</span><span class="sxs-lookup"><span data-stu-id="14f76-107">Prerequisites</span></span>

- <span data-ttu-id="14f76-108">Pristup značajci Customer Insights</span><span class="sxs-lookup"><span data-stu-id="14f76-108">Access to Customer Insights</span></span>
- <span data-ttu-id="14f76-109">Aktivna pretplata za Azure Enterprise</span><span class="sxs-lookup"><span data-stu-id="14f76-109">Active Azure Enterprise subscription</span></span>
- [<span data-ttu-id="14f76-110">Objedinjeni profili klijenata</span><span class="sxs-lookup"><span data-stu-id="14f76-110">Unified customer profiles</span></span>](data-unification.md)
- <span data-ttu-id="14f76-111">Postavljen [izvoz entiteta u spremište blobova platforme Azure](export-azure-blob-storage.md)</span><span class="sxs-lookup"><span data-stu-id="14f76-111">[Entity export to Azure Blob storage](export-azure-blob-storage.md) set up</span></span>

## <a name="set-up-machine-learning-studio-classic"></a><span data-ttu-id="14f76-112">Postavljanje Machine Learning Studio Classic</span><span class="sxs-lookup"><span data-stu-id="14f76-112">Set up Machine Learning Studio Classic</span></span>

<span data-ttu-id="14f76-113">U prvom koraku moramo stvoriti radni prostor i otvoriti Machine Learning Studio (klasični).</span><span class="sxs-lookup"><span data-stu-id="14f76-113">In a first step, we need to create a workspace for and open the Machine Learning Studio (classic).</span></span>

1. <span data-ttu-id="14f76-114">Otvorite [https://www.portal.azure.com](https://www.portal.azure.com/) i prijavite se.</span><span class="sxs-lookup"><span data-stu-id="14f76-114">Go to [https://www.portal.azure.com](https://www.portal.azure.com/) and sign in.</span></span>

1. <span data-ttu-id="14f76-115">Odaberite **Stvori resurs**.</span><span class="sxs-lookup"><span data-stu-id="14f76-115">Select **Create a resource**.</span></span>

1. <span data-ttu-id="14f76-116">Pretražite **Radni prostor za Strojno učenje Studio** i odaberite **Stvori**.</span><span class="sxs-lookup"><span data-stu-id="14f76-116">Search **Machine Learning Studio Workspace** and select **Create**.</span></span>

1. <span data-ttu-id="14f76-117">Unesite potrebne pojedinosti za [stvaranje radnog prostora](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span><span class="sxs-lookup"><span data-stu-id="14f76-117">Enter the required details to [create the workspace](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span></span> <span data-ttu-id="14f76-118">Odaberite **Razina cijena plana web-servisa** na temelju količine podataka koje planirate uvesti.</span><span class="sxs-lookup"><span data-stu-id="14f76-118">Choose the **Web service plan pricing tier** based on the amount of data you plan to import.</span></span> <span data-ttu-id="14f76-119">Za najbolju izvedbu odaberite **Mjesto** koje vam je geografski najbliže.</span><span class="sxs-lookup"><span data-stu-id="14f76-119">For best performance, select the **Location** that is geographically closest to you.</span></span>

1. <span data-ttu-id="14f76-120">Nakon stvaranja resursa, prikazuje se nadzorna ploča radnog prostora za Strojno učenje Studio.</span><span class="sxs-lookup"><span data-stu-id="14f76-120">After creating the resource, the Machine Learning Studio workspace dashboard will appear.</span></span> <span data-ttu-id="14f76-121">Odaberite **Pokreni Strojno učenje Studio**.</span><span class="sxs-lookup"><span data-stu-id="14f76-121">Select **Launch Machine Learning Studio**.</span></span>

   ![Korisničko sučelje za Strojno učenje Azure Studio](media/azure-machine-learning-studio.png)

## <a name="work-with-azure-machine-learning-studio"></a><span data-ttu-id="14f76-123">Rad sa Strojnim učenjem Azure Studio</span><span class="sxs-lookup"><span data-stu-id="14f76-123">Work with Azure Machine Learning Studio</span></span>

<span data-ttu-id="14f76-124">Sada možete stvoriti novi eksperiment ili uvesti postojeći predložak eksperimenta iz galerije uzoraka.</span><span class="sxs-lookup"><span data-stu-id="14f76-124">You can now create a new experiment, or import an existing experiment template from the sample gallery.</span></span> <span data-ttu-id="14f76-125">Postoje uzorci eksperimenata za tri standardna scenarija:</span><span class="sxs-lookup"><span data-stu-id="14f76-125">There are sample experiments for three standard scenarios:</span></span>

- [<span data-ttu-id="14f76-126">Predviđanje odustajanja</span><span class="sxs-lookup"><span data-stu-id="14f76-126">Churn prediction</span></span>](#churn-analysis)

- [<span data-ttu-id="14f76-127">Trajna vrijednost klijenta</span><span class="sxs-lookup"><span data-stu-id="14f76-127">Customer lifetime value</span></span>](#customer-lifetime-value-prediction)

- [<span data-ttu-id="14f76-128">Preporuka proizvoda ili sljedeća najbolja radnja</span><span class="sxs-lookup"><span data-stu-id="14f76-128">Product recommendation or next best action</span></span>](#productrecommendation-or-next-best-action)

1. <span data-ttu-id="14f76-129">Ako stvorite novi eksperiment ili upotrebljavate predložak eksperimenta iz galerije, trebate konfigurirati svojstva za **Uvoz podataka**.</span><span class="sxs-lookup"><span data-stu-id="14f76-129">If you create a new experiment or use an experiment template from the gallery, you need to configure the **Import Data** properties.</span></span> <span data-ttu-id="14f76-130">Koristite vođeno iskustvo ili izravno navedite pojedinosti za spremište blobova platforme Azure koji sadrži vaše podatke.</span><span class="sxs-lookup"><span data-stu-id="14f76-130">Use the guided experience or directly provide details to access the Azure Blob Storage that contains your data.</span></span>  

   ![Eksperiment sa Strojnim učenjem Azure Studio](media/azure-machine-learning-studio-experiment.png)

1. <span data-ttu-id="14f76-132">Sada možete izraditi prilagođeni kanal za obradu kako biste očistili podatke i pripremili ih za obradu, izdvojili značajke i uvježbali odgovarajući model.</span><span class="sxs-lookup"><span data-stu-id="14f76-132">Now you can build a custom processing pipeline to clean and preprocess the data, extract features, and train a suitable model.</span></span>

1. <span data-ttu-id="14f76-133">Testirajte i optimizirajte performanse modela.</span><span class="sxs-lookup"><span data-stu-id="14f76-133">Test and optimize the model performance.</span></span>

1. <span data-ttu-id="14f76-134">Kad budete zadovoljni kvalitetom modela, odaberite **Postavi web-uslugu** > **Prediktivna web-usluga**.</span><span class="sxs-lookup"><span data-stu-id="14f76-134">When you’re satisfied with the quality of a model, select **Set up web service** > **Predictive Web Service**.</span></span> <span data-ttu-id="14f76-135">Ova opcija uvozi uvježbani model i kanal za razvoj značajki iz eksperimenta uvježbavanja u prediktivnu uslugu.</span><span class="sxs-lookup"><span data-stu-id="14f76-135">This option imports the trained model and the featurization pipeline from the training experiment to a predictive service.</span></span> <span data-ttu-id="14f76-136">Prediktivna usluga može preuzeti drugi skup ulaznih podataka sa shemom koja se u eksperimentu uvježbavanja služi za predviđanje.</span><span class="sxs-lookup"><span data-stu-id="14f76-136">The predictive service can take another set of input data with the schema used in the training experiment to make predictions.</span></span>

   ![Postavljanje prediktivne web-usluge](media/predictive-webservice-control.png)

1. <span data-ttu-id="14f76-138">Nakon uspješnog eksperimenta web-usluge možete je implementirati za automatsko zakazivanje.</span><span class="sxs-lookup"><span data-stu-id="14f76-138">Once the predictive web service experiment is successful, you can deploy it for auto scheduling.</span></span> <span data-ttu-id="14f76-139">Da bi web-usluga radila sa značajkom Customer Insights, odaberite **Uvedi web-uslugu** > **Uvedi pregled web-usluge [novo]**.</span><span class="sxs-lookup"><span data-stu-id="14f76-139">To have the web service work with Customer Insights, select **Deploy Web Service** > **Deploy Web Service [New] Preview**.</span></span> <span data-ttu-id="14f76-140">[Saznajte više o uvođenju web-usluge](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span><span class="sxs-lookup"><span data-stu-id="14f76-140">[Learn more about deploying a web service](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span></span>

   ![Uvođenje prediktivne web-usluge](media/predictive-webservice-deploy.png)

## <a name="sample-models-from-the-gallery"></a><span data-ttu-id="14f76-142">Modeli uzoraka iz galerije</span><span class="sxs-lookup"><span data-stu-id="14f76-142">Sample models from the gallery</span></span>

<span data-ttu-id="14f76-143">Upotrijebit ćemo izmišljeni scenarij hotela Jović za modele u ovom članku.</span><span class="sxs-lookup"><span data-stu-id="14f76-143">We'll use a fictitious scenario of Contoso Hotel for the models in this article.</span></span> <span data-ttu-id="14f76-144">Hotel Jović prikuplja sljedeće podatke:</span><span class="sxs-lookup"><span data-stu-id="14f76-144">Contoso Hotel gathers the following data:</span></span>

- <span data-ttu-id="14f76-145">CRM podatke koji se sastoje od aktivnosti odsjedanja u hotelu.</span><span class="sxs-lookup"><span data-stu-id="14f76-145">CRM data consisting of hotel stay activity.</span></span> <span data-ttu-id="14f76-146">Skup podataka uključuje podatke o datumima odsjedanja za svakog registriranog klijenta.</span><span class="sxs-lookup"><span data-stu-id="14f76-146">The data set includes information about the dates of stay for each registered customer.</span></span> <span data-ttu-id="14f76-147">Sadrži i podatke o rezervaciji, vrstama soba, detalje o potrošnji i sl.</span><span class="sxs-lookup"><span data-stu-id="14f76-147">It also contains information about the booking, room types, details of spend, and so on.</span></span> <span data-ttu-id="14f76-148">Podaci obuhvaćaju četiri godine, od siječnja 2014. do siječnja 2018.</span><span class="sxs-lookup"><span data-stu-id="14f76-148">The data spans four years, from January 2014 to January 2018.</span></span>
- <span data-ttu-id="14f76-149">Korisničke profile gostiju hotela.</span><span class="sxs-lookup"><span data-stu-id="14f76-149">Customer profiles of hotel guests.</span></span> <span data-ttu-id="14f76-150">Ovi profili sadrže informacije o svakom klijentu, uključujući ime, datum rođenja, poštansku adresu, spol i telefonski broj.</span><span class="sxs-lookup"><span data-stu-id="14f76-150">These profiles contain information about each customer, including their name, birthdate, postal address, gender, and phone number.</span></span>
- <span data-ttu-id="14f76-151">Upotreba usluga koje nudi hotel, kao što su centar za zdravlje i ljepotu, praonica rublja, Wi-Fi mreža ili kurirska služba.</span><span class="sxs-lookup"><span data-stu-id="14f76-151">Usage of services offered by the hotel, such as the spa, laundry, WiFi, or courier.</span></span> <span data-ttu-id="14f76-152">Ove se informacije bilježe za svakog registriranog klijenta.</span><span class="sxs-lookup"><span data-stu-id="14f76-152">This information is logged for each registered customer.</span></span> <span data-ttu-id="14f76-153">Upotreba usluga obično je povezana s odsjedanjem.</span><span class="sxs-lookup"><span data-stu-id="14f76-153">Typically, use of services is linked with the stay.</span></span> <span data-ttu-id="14f76-154">U nekim slučajevima klijenti mogu koristiti usluge bez odsjedanja u hotelu.</span><span class="sxs-lookup"><span data-stu-id="14f76-154">In some cases, services can be used by customers without staying in the hotel.</span></span>

## <a name="churn-analysis"></a><span data-ttu-id="14f76-155">Analiza odustajanja</span><span class="sxs-lookup"><span data-stu-id="14f76-155">Churn Analysis</span></span>

<span data-ttu-id="14f76-156">Analiza odustajanja primjenjuje se na različita područja poslovanja.</span><span class="sxs-lookup"><span data-stu-id="14f76-156">Churn analysis applies to different business areas.</span></span> <span data-ttu-id="14f76-157">U ovom ćemo primjeru razmotriti odustajanje od usluga, posebno u kontekstu hotelskih usluga kao što je prethodno opisano.</span><span class="sxs-lookup"><span data-stu-id="14f76-157">In this example, we’re going to look at service churn, specifically in the context of hotel services as described above.</span></span> <span data-ttu-id="14f76-158">Omogućuje praktičan primjer kanala za sveobuhvatni model koji se može poslužiti kao početna točka za bilo koju vrstu modela odustajanja.</span><span class="sxs-lookup"><span data-stu-id="14f76-158">It provides a working example of an end–to–end model pipeline that can be used as a starting point for any other type of churn model.</span></span>

### <a name="definition-of-churn"></a><span data-ttu-id="14f76-159">Definicija odustajanja</span><span class="sxs-lookup"><span data-stu-id="14f76-159">Definition of Churn</span></span>

<span data-ttu-id="14f76-160">Definicija odustajanja može se razlikovati ovisno o scenariju.</span><span class="sxs-lookup"><span data-stu-id="14f76-160">The definition of churn can differ based on the scenario.</span></span> <span data-ttu-id="14f76-161">U ovom bi primjeru gost koji nije posjetio hotel u posljednjih godinu dana trebao bi biti označen kao da je odustao.</span><span class="sxs-lookup"><span data-stu-id="14f76-161">In this example, a guest who hasn’t visited the hotel in the past year should be labeled as churned.</span></span>  

<span data-ttu-id="14f76-162">Predložak eksperimenta može se uvesti iz galerije.</span><span class="sxs-lookup"><span data-stu-id="14f76-162">The experiment template can be imported from the gallery.</span></span> <span data-ttu-id="14f76-163">Najprije trebate uvesti podatke za odjeljke **Aktivnost odsjedanja u hotelu**, **Podaci o klijentu** i **Podaci o upotrebi usluge** iz spremišta blobova platforme Azure.</span><span class="sxs-lookup"><span data-stu-id="14f76-163">First, ensure that you import the data for **Hotel Stay Activity**, **Customer data**, and **Service Usage Data** from Azure Blob storage.</span></span>

   ![Uvoz podataka za model odustajanja](media/import-data-azure-blob-storage.png)

### <a name="featurization"></a><span data-ttu-id="14f76-165">Razvoj značajki</span><span class="sxs-lookup"><span data-stu-id="14f76-165">Featurization</span></span>

<span data-ttu-id="14f76-166">Na temelju definicije odustajanja najprije pronalazimo osnovne značajke koje će utjecati na oznaku.</span><span class="sxs-lookup"><span data-stu-id="14f76-166">Based on the definition of churn, we first identify the raw features that will influence the label.</span></span> <span data-ttu-id="14f76-167">Zatim obrađujemo te osnovne značajke u numeričke značajke koje se mogu upotrebljavati u modelima strojnog učenja.</span><span class="sxs-lookup"><span data-stu-id="14f76-167">Then, we process these raw features into numerical features that can be used with machine learning models.</span></span> <span data-ttu-id="14f76-168">Integracija podataka događa se u Customer Insights tako da se možemo pridružiti ovim tablicama pomoću *ID-ja klijenta*.</span><span class="sxs-lookup"><span data-stu-id="14f76-168">Data integration happens in Customer Insights so we can join these tables by using the *Customer ID*.</span></span>

   ![Pridruživanje uvezenih podataka](media/join-imported-data.png)

<span data-ttu-id="14f76-170">Razvoj značajki za izradu modela za analizu odustajanja nije tako jednostavan.</span><span class="sxs-lookup"><span data-stu-id="14f76-170">The featurization for building the model for churn analysis can be a little tricky.</span></span> <span data-ttu-id="14f76-171">Podaci uključuju funkciju vremena s novim aktivnostima hotela koje se svakodnevno bilježe.</span><span class="sxs-lookup"><span data-stu-id="14f76-171">The data is a function of time with new hotel activity recorded on daily basis.</span></span> <span data-ttu-id="14f76-172">Tijekom razvoja značajki nastojimo generirati statičke značajke iz dinamičkih podataka.</span><span class="sxs-lookup"><span data-stu-id="14f76-172">During featurization, we want to generate static features from the dynamic data.</span></span> <span data-ttu-id="14f76-173">U ovom slučaju generiramo više značajki iz aktivnosti hotela s kliznim prozorom od jedne godine.</span><span class="sxs-lookup"><span data-stu-id="14f76-173">In this case, we generate multiple features from hotel activity with a sliding window of one year.</span></span> <span data-ttu-id="14f76-174">Također proširujemo kategorizirane značajke, npr. vrstu sobe ili vrstu rezervacije, u zasebne značajke s pomoću one-hot kodiranja.</span><span class="sxs-lookup"><span data-stu-id="14f76-174">We also expand the categorical features like room type or booking type into separate features using one-hot encoding.</span></span>  

<span data-ttu-id="14f76-175">Konačni popis značajki:</span><span class="sxs-lookup"><span data-stu-id="14f76-175">Final list of features:</span></span>

| <span data-ttu-id="14f76-176">**Broj**</span><span class="sxs-lookup"><span data-stu-id="14f76-176">**Number**</span></span>  | <span data-ttu-id="14f76-177">**Original_Column**</span><span class="sxs-lookup"><span data-stu-id="14f76-177">**Original_Column**</span></span>          | <span data-ttu-id="14f76-178">**Izvedene značajke**</span><span class="sxs-lookup"><span data-stu-id="14f76-178">**Derived Features**</span></span>                                                                                                                      |
|-------------|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="14f76-179">1</span><span class="sxs-lookup"><span data-stu-id="14f76-179">1</span></span>           | <span data-ttu-id="14f76-180">Vrsta sobe</span><span class="sxs-lookup"><span data-stu-id="14f76-180">Room Type</span></span>                    | <span data-ttu-id="14f76-181">RoomTypeLargeCount, RoomTypeSmallCount</span><span class="sxs-lookup"><span data-stu-id="14f76-181">RoomTypeLargeCount, RoomTypeSmallCount</span></span>                                                                                                    |
| <span data-ttu-id="14f76-182">2</span><span class="sxs-lookup"><span data-stu-id="14f76-182">2</span></span>           | <span data-ttu-id="14f76-183">Vrsta rezervacije</span><span class="sxs-lookup"><span data-stu-id="14f76-183">Booking Type</span></span>                 | <span data-ttu-id="14f76-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span><span class="sxs-lookup"><span data-stu-id="14f76-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span></span>                                                                                         |
| <span data-ttu-id="14f76-185">3</span><span class="sxs-lookup"><span data-stu-id="14f76-185">3</span></span>           | <span data-ttu-id="14f76-186">Kategorija putovanja</span><span class="sxs-lookup"><span data-stu-id="14f76-186">Travel Category</span></span>              | <span data-ttu-id="14f76-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span><span class="sxs-lookup"><span data-stu-id="14f76-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span></span>                                                                                   |
| <span data-ttu-id="14f76-188">4</span><span class="sxs-lookup"><span data-stu-id="14f76-188">4</span></span>           | <span data-ttu-id="14f76-189">Potrošeno dolara</span><span class="sxs-lookup"><span data-stu-id="14f76-189">Dollars Spent</span></span>                | <span data-ttu-id="14f76-190">TotalDollarSpent</span><span class="sxs-lookup"><span data-stu-id="14f76-190">TotalDollarSpent</span></span>                                                                                                                          |
| <span data-ttu-id="14f76-191">5</span><span class="sxs-lookup"><span data-stu-id="14f76-191">5</span></span>           | <span data-ttu-id="14f76-192">Datumi prijave i odjave</span><span class="sxs-lookup"><span data-stu-id="14f76-192">Check-in and Checkout dates</span></span>  | <span data-ttu-id="14f76-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span><span class="sxs-lookup"><span data-stu-id="14f76-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span></span> <span data-ttu-id="14f76-194">StayCount2015, StayCount2014</span><span class="sxs-lookup"><span data-stu-id="14f76-194">StayCount2015, StayCount2014</span></span>                |
| <span data-ttu-id="14f76-195">6</span><span class="sxs-lookup"><span data-stu-id="14f76-195">6</span></span>           | <span data-ttu-id="14f76-196">Upotreba usluge</span><span class="sxs-lookup"><span data-stu-id="14f76-196">Service Usage</span></span>                | <span data-ttu-id="14f76-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span><span class="sxs-lookup"><span data-stu-id="14f76-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span></span>  |

### <a name="model-selection"></a><span data-ttu-id="14f76-198">Odabir modela</span><span class="sxs-lookup"><span data-stu-id="14f76-198">Model selection</span></span>

<span data-ttu-id="14f76-199">Sada moramo odabrati optimalni algoritam koji ćemo koristiti.</span><span class="sxs-lookup"><span data-stu-id="14f76-199">Now we need to choose the optimal algorithm to use.</span></span> <span data-ttu-id="14f76-200">U ovom se slučaju većina značajki temelji na kategoriziranim značajkama.</span><span class="sxs-lookup"><span data-stu-id="14f76-200">In this case, most features are based on categorical features.</span></span> <span data-ttu-id="14f76-201">Modeli koji se temelje na stablu odluke obično dobro funkcioniraju.</span><span class="sxs-lookup"><span data-stu-id="14f76-201">Typically, decision tree–based models work well.</span></span> <span data-ttu-id="14f76-202">Ako postoje samo numeričke značajke, neuronske mreže mogu biti bolji odabir.</span><span class="sxs-lookup"><span data-stu-id="14f76-202">If there are only numerical features, neural networks could be a better choice.</span></span> <span data-ttu-id="14f76-203">Metoda potpornih vektora (SVM) također je dobar izbor u tim situacijama. No zahtijeva dosta podešavanja da bi se postigle najbolje performanse.</span><span class="sxs-lookup"><span data-stu-id="14f76-203">Support vector machine (SVM) also is a good candidate in such situations; however, it needs quite a bit of tuning to extract the best performance.</span></span> <span data-ttu-id="14f76-204">Odabiremo **Poboljšano stablo odluke u dvije klase** kao prvi izbor modela, a **SVM u dvije klase** kao drugi model.</span><span class="sxs-lookup"><span data-stu-id="14f76-204">We choose **Two-Class Boosted Decision Tree** as the first model of choice followed by **Two-Class SVM** as the second model.</span></span> <span data-ttu-id="14f76-205">Strojno učenje Azure Studio omogućuje provođenje A/B testiranja, tako da je korisno započeti s dva modela, a ne s jednim.</span><span class="sxs-lookup"><span data-stu-id="14f76-205">Azure Machine Learning Studio lets you do A/B testing, so it’s beneficial to start with two models rather than one.</span></span>

<span data-ttu-id="14f76-206">Slika u nastavku prikazuje kanal za uvježbavanje i procjenu modela u Strojnom učenju Azure Studio:</span><span class="sxs-lookup"><span data-stu-id="14f76-206">The following image shows the model training and evaluation pipeline from Azure Machine Learning Studio:</span></span>

![Model odustajanja u Strojnom učenju Azure Studio](media/azure-machine-learning-model.png)

<span data-ttu-id="14f76-208">Primjenjujemo i tehniku zvanu **Važnost značajke permutacije**, što je važan aspekt optimizacije modela.</span><span class="sxs-lookup"><span data-stu-id="14f76-208">We also apply a technique called **Permutation Feature Importance**, an important aspect of model optimization.</span></span> <span data-ttu-id="14f76-209">Ugrađeni modeli pružaju slab ili nikakav uvid u utjecaj određenih značajki na konačno predviđanje.</span><span class="sxs-lookup"><span data-stu-id="14f76-209">Built-in models have little to no insight into the impact of any specific feature on the final prediction.</span></span> <span data-ttu-id="14f76-210">Kalkulator važnosti značajki koristi prilagođeni algoritam za izračunavanje utjecaja pojedinih značajki na ishod određenog modela.</span><span class="sxs-lookup"><span data-stu-id="14f76-210">The feature importance calculator uses a custom algorithm to compute the influence of individual features on the outcome for a specific model.</span></span> <span data-ttu-id="14f76-211">Važnost značajki normirana je između +1 do -1.</span><span class="sxs-lookup"><span data-stu-id="14f76-211">The feature importance is normalized between +1 to -1.</span></span> <span data-ttu-id="14f76-212">Negativni utjecaj znači da odgovarajuća značajka ima suprotan utjecaj na ishod i da je treba ukloniti iz modela.</span><span class="sxs-lookup"><span data-stu-id="14f76-212">A negative influence means the corresponding feature has counter-intuitive influence on the outcome and should be removed from the model.</span></span> <span data-ttu-id="14f76-213">Pozitivan utjecaj ukazuje na to da značajka značajno doprinosi predviđanju.</span><span class="sxs-lookup"><span data-stu-id="14f76-213">A positive influence indicates the feature is contributing heavily towards the prediction.</span></span> <span data-ttu-id="14f76-214">Te vrijednosti nisu koeficijenti korelacije jer su različiti mjerni podaci.</span><span class="sxs-lookup"><span data-stu-id="14f76-214">These values aren't correlation coefficients as they are different metrics.</span></span> <span data-ttu-id="14f76-215">Dodatne informacije potražite u odjeljku [Važnost značajki permutacije](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span><span class="sxs-lookup"><span data-stu-id="14f76-215">For more information, see [Permutation Feature Importance](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span></span>

<span data-ttu-id="14f76-216">Cijeli [eksperiment odustajanja dostupan je u AI galeriji platforme Azure](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span><span class="sxs-lookup"><span data-stu-id="14f76-216">The entire [churn experiment is available in the Azure AI Gallery](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span></span>

## <a name="customer-lifetime-value-prediction"></a><span data-ttu-id="14f76-217">Predviđanje trajne vrijednosti klijenta</span><span class="sxs-lookup"><span data-stu-id="14f76-217">Customer lifetime value prediction</span></span>

<span data-ttu-id="14f76-218">Izračun trajne vrijednosti klijenta (CLTV) jedan je od ključnih mjernih podataka koje tvrtka može koristiti za procjenu i segmentiranje klijenata.</span><span class="sxs-lookup"><span data-stu-id="14f76-218">The customer lifetime value (CLTV) calculation is one of the key metrics that a business can use to assess and segment its customers.</span></span> <span data-ttu-id="14f76-219">Za hotelsku djelatnost poznavanje klijenata je ključno.</span><span class="sxs-lookup"><span data-stu-id="14f76-219">For the hotel business, it’s critical to know their customers.</span></span> <span data-ttu-id="14f76-220">Na primjer, razumijevanje čimbenika koji čine dobre klijente ključna je informacija.</span><span class="sxs-lookup"><span data-stu-id="14f76-220">For example, understanding factors that make up good customers is crucial information.</span></span> <span data-ttu-id="14f76-221">Upravitelji hotela tako mogu procijeniti na koje se značajke trebaju usredotočiti te ih poboljšati da bi zadovoljili svoje klijente u višem platnom razredu.</span><span class="sxs-lookup"><span data-stu-id="14f76-221">It helps the hotel management assess which features they need to focus on and improve to satisfy their high paying customers.</span></span> <span data-ttu-id="14f76-222">Te odluke mogu imati izravan utjecaj na prodaju i zaradu.</span><span class="sxs-lookup"><span data-stu-id="14f76-222">These decisions can have a direct impact on sales and earnings.</span></span>  

### <a name="definition-of-cltv"></a><span data-ttu-id="14f76-223">Definicija CLTV-a</span><span class="sxs-lookup"><span data-stu-id="14f76-223">Definition of CLTV</span></span>

<span data-ttu-id="14f76-224">U ovom primjeru CLTV klijenta definiramo kao ukupni iznos u dolarima za koji se očekuje da će klijent potrošiti u sljedećih 365 dana.</span><span class="sxs-lookup"><span data-stu-id="14f76-224">For this example, we define the CLTV of a customer as the total dollar amount the customer is expected to spend in the next 365 days.</span></span> <span data-ttu-id="14f76-225">Za predviđanje ove vrijednosti koristit ćemo podatke od protekle tri godine za sve klijente.</span><span class="sxs-lookup"><span data-stu-id="14f76-225">We are going to use the past three years’ worth of data for all customers to predict this value.</span></span>

### <a name="featurization"></a><span data-ttu-id="14f76-226">Razvoj značajki</span><span class="sxs-lookup"><span data-stu-id="14f76-226">Featurization</span></span>

<span data-ttu-id="14f76-227">U ovom slučaju razvoj značajki uvelike nalikuje scenariju odustajanja.</span><span class="sxs-lookup"><span data-stu-id="14f76-227">In this case, featurization is going to be quite like the churn scenario.</span></span> <span data-ttu-id="14f76-228">Međutim, oznake i predviđene vrijednosti razlikuju se od prethodno definiranih.</span><span class="sxs-lookup"><span data-stu-id="14f76-228">However, the labels and predicted values are different than defined above.</span></span>

### <a name="model-selection"></a><span data-ttu-id="14f76-229">Odabir modela</span><span class="sxs-lookup"><span data-stu-id="14f76-229">Model selection</span></span>

<span data-ttu-id="14f76-230">Predviđanje CLTV-a je problem regresije jer je predviđena vrijednost stalna varijabla s pozitivnom vrijednosti.</span><span class="sxs-lookup"><span data-stu-id="14f76-230">Predicting the CLTV is a regression problem as the predicted value is a positive valued continuous variable.</span></span> <span data-ttu-id="14f76-231">Na temelju svojstava značajki odabiremo **Regresiju poboljšanog stabla odluke** kao jedan algoritam i **Regresiju neuronske mreže** kao drugi algoritam za uvježbavanje modela.</span><span class="sxs-lookup"><span data-stu-id="14f76-231">Based on the feature properties, we select **Boosted Decision Tree Regression** as one algorithm and **Neural Network Regression** as another algorithm to train the model.</span></span>

## <a name="product-recommendation-or-next-best-action"></a><span data-ttu-id="14f76-232">Preporuka proizvoda ili sljedeća najbolja radnja</span><span class="sxs-lookup"><span data-stu-id="14f76-232">Product recommendation or Next Best Action</span></span>

<span data-ttu-id="14f76-233">Preporuka proizvoda u scenariju hotela tumači se kao preporuka usluga koje hotel nudi klijentima.</span><span class="sxs-lookup"><span data-stu-id="14f76-233">Product recommendation in a hotel scenario is interpreted as recommending services offered by the hotel to the customers.</span></span> <span data-ttu-id="14f76-234">Cilj je odabrati odgovarajuće usluge za klijente kako bi se povećala njihova upotreba.</span><span class="sxs-lookup"><span data-stu-id="14f76-234">The objective is to choose the appropriate services for customers so that their usage is maximized.</span></span> <span data-ttu-id="14f76-235">To je slično preporukama filmova za korisnike usluga strujanja videozapisa.</span><span class="sxs-lookup"><span data-stu-id="14f76-235">It’s similar to movie recommendations for video streaming service users.</span></span>

### <a name="definition-of-product-recommendation-or-next-best-action"></a><span data-ttu-id="14f76-236">Definicija preporuke proizvoda ili sljedeće najbolje radnje</span><span class="sxs-lookup"><span data-stu-id="14f76-236">Definition of Product Recommendation or Next Best Action</span></span>

<span data-ttu-id="14f76-237">Cilj definiramo kao povećavanje iznosa u dolarima za upotrebu usluge ponudom usluga koje najbolje odgovaraju korisnicima hotela u skladu s njihovim interesom.</span><span class="sxs-lookup"><span data-stu-id="14f76-237">We define the goal as maximizing the dollar amount of service usage by offering the best matching services to hotel customers according to their interest.</span></span>

### <a name="featurization"></a><span data-ttu-id="14f76-238">Razvoj značajki</span><span class="sxs-lookup"><span data-stu-id="14f76-238">Featurization</span></span>

<span data-ttu-id="14f76-239">Slično modelu odustajanja ServiceCustomerID za hotel pridružujemo CustomerID-ju kako bi preporuke odgovarale CustomerID-ju.</span><span class="sxs-lookup"><span data-stu-id="14f76-239">Like the churn model, we are joining the hotel ServiceCustomerID with CustomerID in order to build recommendations consistently per CustomerID.</span></span>

![Razvoj značajki modela preporuka](media/azure-machine-learning-model-featurization.png)

<span data-ttu-id="14f76-241">Podaci se dobivaju iz tri različita entiteta i iz njih se izvode značajke.</span><span class="sxs-lookup"><span data-stu-id="14f76-241">The data is sourced from three different entities and features are derived from them.</span></span> <span data-ttu-id="14f76-242">Razvoj značajki za problem preporuke razlikuje se u usporedbi sa scenarijima odustajanja ili CLTV-a.</span><span class="sxs-lookup"><span data-stu-id="14f76-242">The featurization for the problem of recommendation is different compared to churn or CLTV scenarios.</span></span> <span data-ttu-id="14f76-243">Model preporuke treba ulazne podatke u obliku tri skupa značajki.</span><span class="sxs-lookup"><span data-stu-id="14f76-243">The recommendation model needs input data in the form of three sets of features.</span></span>

### <a name="model-selection"></a><span data-ttu-id="14f76-244">Odabir modela</span><span class="sxs-lookup"><span data-stu-id="14f76-244">Model selection</span></span>

<span data-ttu-id="14f76-245">Predviđamo proizvode ili usluge uz pomoć algoritma koji se zove **Uvježbavanje odgovarajućeg preporučitelja** za uvježbavanje modela preporuke.</span><span class="sxs-lookup"><span data-stu-id="14f76-245">We predict products or services by using the algorithm called **Train Matchbox Recommender** to train the recommendation model.</span></span>

![Algoritam za preporuke proizvoda](media/azure-machine-learning-model-recommendation-algorithm.png)

<span data-ttu-id="14f76-247">Tri ulazna priključka za model **Uvježbavanje odgovarajućeg preporučitelja** preuzimaju podatke o korištenju usluge uvježbavanja, opis klijenta (neobavezno) i opis usluge.</span><span class="sxs-lookup"><span data-stu-id="14f76-247">The three input ports for the **Train Matchbox Recommender** model takes in the training service usage data, customer description (optional), and service description.</span></span> <span data-ttu-id="14f76-248">Postoje tri različita načina bodovanja modela.</span><span class="sxs-lookup"><span data-stu-id="14f76-248">There are three different ways of scoring the model.</span></span> <span data-ttu-id="14f76-249">Jedan je za procjenu modela u kojem se ocjena normalizirane umanjene kumulativne dobiti (NDCG) izračunava za rangiranje ocijenjenih stavki.</span><span class="sxs-lookup"><span data-stu-id="14f76-249">One is for model evaluation where a Normalized Discounted Cumulative Gain (NDCG) score is calculated to rank the rated items.</span></span> <span data-ttu-id="14f76-250">U ovom eksperimentu imamo NDCG ocjenu od 0,97.</span><span class="sxs-lookup"><span data-stu-id="14f76-250">In this experiment, we have the NDCG score as 0.97.</span></span> <span data-ttu-id="14f76-251">Ostale su dvije mogućnosti ocjenjivanje modela u cijelom katalogu usluga koje se preporučuju ili ocjenjivanje samo za stavke koje korisnici još nisu koristili.</span><span class="sxs-lookup"><span data-stu-id="14f76-251">The other two options are scoring the model on the entire recommendable service catalog, or scoring only on items that users have not used before.</span></span>

<span data-ttu-id="14f76-252">Dodatnim proučavanjem raspodjele preporuka u cijelom katalogu usluga uočavamo da su telefonski pozivi, Wi-Fi mreža i kurirska služba vrhunske usluge koje se mogu preporučiti.</span><span class="sxs-lookup"><span data-stu-id="14f76-252">Looking further on the distributions of the recommendations on the entire service catalog, we notice that phone, WiFi, and courier are the top services to be recommended.</span></span> <span data-ttu-id="14f76-253">To je u skladu s onim što smo ustanovili iz raspodjele podataka o upotrebi usluga:</span><span class="sxs-lookup"><span data-stu-id="14f76-253">This is consistent with what we found from the distributions of the service consumption data:</span></span>

![Izlaz modela preporuke](media/azure-machine-learning-model-output.png)

<span data-ttu-id="14f76-255">Cijelom [eksperimentu preporuke proizvoda može se pristupiti u AI galeriji platforme Azure.](https://gallery.azure.ai/Experiment/Recommendation-4)</span><span class="sxs-lookup"><span data-stu-id="14f76-255">The entire [product recommendation experiment can be accessed in Azure AI Gallery.](https://gallery.azure.ai/Experiment/Recommendation-4)</span></span>

## <a name="integrate-custom-models"></a><span data-ttu-id="14f76-256">Integrirani prilagođeni modeli</span><span class="sxs-lookup"><span data-stu-id="14f76-256">Integrate custom models</span></span>

<span data-ttu-id="14f76-257">Da biste koristili ta predviđanja u značajci Customer Insights trebate **izvesti** predviđanja zajedno s ID-jevima klijenata.</span><span class="sxs-lookup"><span data-stu-id="14f76-257">To use these predictions in Customer Insights, you need to **export** the predictions along with the customer IDs.</span></span> <span data-ttu-id="14f76-258">[Izvezite ih na isto mjesto spremišta blobova platforme Azure](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) u koji izvozite izvorne podatke.</span><span class="sxs-lookup"><span data-stu-id="14f76-258">[Export them to the same Azure Blob storage location](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) that you export the source data to.</span></span> <span data-ttu-id="14f76-259">Može se zakazati redovito pokretanje prediktivne web-usluge i ažuriranje ocjena.</span><span class="sxs-lookup"><span data-stu-id="14f76-259">The predictive web service can be scheduled to run regularly and update the scores.</span></span>

<span data-ttu-id="14f76-260">Podaci generirani prema prilagođenom modelu mogu se koristiti za dodatno obogaćivanje podataka o klijentima.</span><span class="sxs-lookup"><span data-stu-id="14f76-260">Data generated by the custom model can be used to further enrich your customer data.</span></span> <span data-ttu-id="14f76-261">Za dodatne informacije pogledajte [Prilagođeni modeli strojnog učenja](custom-models.md).</span><span class="sxs-lookup"><span data-stu-id="14f76-261">For more information, see [Custom machine learning models](custom-models.md).</span></span>
